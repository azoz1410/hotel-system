<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุนุฏุงุฏุงุช API - ูุธุงู ุงูููุฏู</title>
    <!-- Theme System -->
    <script src="../js/shared/theme-switcher.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>โ๏ธ ุฅุนุฏุงุฏุงุช API ูุงูุชูุงููุงุช</h1>
            <div class="header-actions">
                <a href="../../admin" class="btn btn-primary">โฌ๏ธ ููุญุฉ ุงูุชุญูู</a>
            </div>
        </div>

        <div class="settings-container">
            <!-- ูุนูููุงุช ูููุฉ -->
            <div class="info-card">
                <h3>๐ ูุนูููุงุช ูููุฉ</h3>
                <p>ูุฐู ุงูุฅุนุฏุงุฏุงุช ุฎุงุตุฉ ุจููุฏูู ููุท. ูุฑุฌู ุงูุญูุงุธ ุนูู ุณุฑูุฉ API Keys ูุนุฏู ูุดุงุฑูุชูุง ูุน ุฃุญุฏ.</p>
                <p>ุจุนุฏ ุฅุฏุฎุงู ุงูุฅุนุฏุงุฏุงุชุ ุณูุชู ุชูุนูู ูุธุงู ุงูุชุญูู ูู ุฑูู ุงูุฌูุงู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุนููุงุก.</p>
            </div>

            <!-- ุฅุนุฏุงุฏุงุช WhatsApp / SMS -->
            <div class="settings-card">
                <h2>๐ฑ ุฅุนุฏุงุฏุงุช ุงูุชุญูู ูู ุฑูู ุงูุฌูุงู (WhatsApp/SMS)</h2>
                <p class="card-description">ููุชุญูู ูู ุฑูู ุงูุฌูุงู ุนุจุฑ WhatsApp ุฃู SMS ุจุงุณุชุฎุฏุงู Twilio API</p>
                
                <form id="whatsappSettingsForm">
                    <div class="form-group">
                        <label class="form-label">
                            <span>ุชูุนูู ุงูุชุญูู ูู ุงูุฌูุงู</span>
                            <small>ุชูุนูู/ุฅููุงู ูุธุงู ุงูุชุญูู ูู ุฑูู ุงูุฌูุงู</small>
                        </label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="whatsappEnabled">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ููุน ุงูุฎุฏูุฉ</span>
                        </label>
                        <select id="whatsappProvider" class="form-input">
                            <option value="twilio">Twilio (ููุตู ุจู)</option>
                            <option value="unifonic">Unifonic (ุนุฑุจู)</option>
                            <option value="custom">ุฎุฏูุฉ ูุฎุตุตุฉ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>Account SID</span>
                            <small>ูุนุฑู ุญุณุงุจู ูู Twilio</small>
                        </label>
                        <input type="text" id="twilioAccountSid" class="form-input" placeholder="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>Auth Token</span>
                            <small>ุฑูุฒ ุงููุตุงุฏูุฉ ุงูุณุฑู</small>
                        </label>
                        <div class="password-input-wrapper">
                            <input type="password" id="twilioAuthToken" class="form-input" placeholder="โขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโข">
                            <button type="button" class="toggle-password" onclick="togglePasswordVisibility('twilioAuthToken')">๐๏ธ</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ุฑูู ุงููุฑุณู</span>
                            <small>ุฑูู WhatsApp ุฃู SMS ุงููุณุฌู ูู Twilio (ูุซุงู: +966501234567)</small>
                        </label>
                        <input type="text" id="twilioPhoneNumber" class="form-input" placeholder="+966501234567" dir="ltr">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ูุต ุฑุณุงูุฉ ุงูุชุญูู</span>
                            <small>ุงุณุชุฎุฏู {code} ููููุฏ ู {hotel} ูุงุณู ุงูููุฏู</small>
                        </label>
                        <textarea id="whatsappMessageTemplate" class="form-textarea" rows="3">ูุฑุญุจุงู! ููุฏ ุงูุชุญูู ุงูุฎุงุต ุจู ูู {hotel} ูู: {code}
ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุฐุง ุงูููุฏ ุฎูุงู 5 ุฏูุงุฆู.</textarea>
                    </div>

                    <button type="submit" class="btn btn-success">๐พ ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุฌูุงู</button>
                    <button type="button" class="btn btn-info" onclick="testWhatsApp()">๐งช ุงุฎุชุจุงุฑ ุงูุฅุฑุณุงู</button>
                </form>
            </div>

            <!-- ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู -->
            <div class="settings-card">
                <h2>๐ง ุฅุนุฏุงุฏุงุช ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</h2>
                <p class="card-description">ููุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุจุงุณุชุฎุฏุงู EmailJS ุฃู SendGrid</p>
                
                <form id="emailSettingsForm">
                    <div class="form-group">
                        <label class="form-label">
                            <span>ุชูุนูู ุงูุชุญูู ูู ุงูุจุฑูุฏ</span>
                            <small>ุชูุนูู/ุฅููุงู ูุธุงู ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</small>
                        </label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="emailEnabled">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ููุน ุงูุฎุฏูุฉ</span>
                        </label>
                        <select id="emailProvider" class="form-input">
                            <option value="emailjs">EmailJS (ูุฌุงูู - ููุตู ุจู)</option>
                            <option value="sendgrid">SendGrid</option>
                            <option value="smtp">SMTP ูุฎุตุต</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>Service ID (EmailJS)</span>
                            <small>ูุนุฑู ุงูุฎุฏูุฉ ูู ููุญุฉ ุชุญูู EmailJS</small>
                        </label>
                        <input type="text" id="emailjsServiceId" class="form-input" placeholder="service_xxxxxxx">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>Template ID (EmailJS)</span>
                            <small>ูุนุฑู ุงููุงูุจ ูู ููุญุฉ ุชุญูู EmailJS</small>
                        </label>
                        <input type="text" id="emailjsTemplateId" class="form-input" placeholder="template_xxxxxxx">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>Public Key (EmailJS)</span>
                            <small>ุงูููุชุงุญ ุงูุนุงู</small>
                        </label>
                        <input type="text" id="emailjsPublicKey" class="form-input" placeholder="xxxxxxxxxxxxxxxx">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ุงุณู ุงููุฑุณู</span>
                            <small>ุงูุงุณู ุงูุฐู ุณูุธูุฑ ููุนููุงุก</small>
                        </label>
                        <input type="text" id="emailSenderName" class="form-input" placeholder="ููุฏู ุงููุฌูู ุงูุฎูุณ">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ุจุฑูุฏ ุงููุฑุณู</span>
                            <small>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูููุฑุณู</small>
                        </label>
                        <input type="email" id="emailSenderEmail" class="form-input" placeholder="no-reply@yourhotel.com" dir="ltr">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ููุถูุน ุงูุฑุณุงูุฉ</span>
                        </label>
                        <input type="text" id="emailSubject" class="form-input" value="ููุฏ ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู">
                    </div>

                    <button type="submit" class="btn btn-success">๐พ ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ</button>
                    <button type="button" class="btn btn-info" onclick="testEmail()">๐งช ุงุฎุชุจุงุฑ ุงูุฅุฑุณุงู</button>
                </form>
            </div>

            <!-- ูุนูููุงุช ุงูููุฏู -->
            <div class="settings-card">
                <h2>๐จ ูุนูููุงุช ุงูููุฏู</h2>
                <p class="card-description">ูุนูููุงุช ุนุงูุฉ ุชุธูุฑ ูู ุฑุณุงุฆู ุงูุชุญูู</p>
                
                <form id="hotelInfoForm">
                    <div class="form-group">
                        <label class="form-label">
                            <span>ุงุณู ุงูููุฏู</span>
                        </label>
                        <input type="text" id="hotelName" class="form-input" placeholder="ููุฏู ุงููุฌูู ุงูุฎูุณ">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ุฑูู ุงูุชูุงุตู</span>
                        </label>
                        <input type="tel" id="hotelPhone" class="form-input" placeholder="+966501234567">
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            <span>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</span>
                        </label>
                        <input type="email" id="hotelEmail" class="form-input" placeholder="info@yourhotel.com">
                    </div>

                    <button type="submit" class="btn btn-success">๐พ ุญูุธ ูุนูููุงุช ุงูููุฏู</button>
                </form>
            </div>

            <!-- ุฃุฏูุฉ ุงูุงุณุชุฎุฏุงู -->
            <div class="info-card guide-card">
                <h3>๐ ุฏููู ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน</h3>
                
                <div class="guide-section">
                    <h4>1๏ธโฃ ุฅุนุฏุงุฏ Twilio (ููุฌูุงู):</h4>
                    <ol>
                        <li>ุณุฌู ูู <a href="https://www.twilio.com/try-twilio" target="_blank">Twilio.com</a></li>
                        <li>ุงุญุตู ุนูู ุฑูู ูุงุชู ูุฌุงูู ูู ููุญุฉ ุงูุชุญูู</li>
                        <li>ุงูุณุฎ Account SID ู Auth Token ูู Dashboard</li>
                        <li>ุงูุตููู ูู ุงูุญููู ุฃุนูุงู</li>
                    </ol>
                </div>

                <div class="guide-section">
                    <h4>2๏ธโฃ ุฅุนุฏุงุฏ EmailJS (ููุจุฑูุฏ):</h4>
                    <ol>
                        <li>ุณุฌู ูู <a href="https://www.emailjs.com/" target="_blank">EmailJS.com</a> (ูุฌุงูู)</li>
                        <li>ุฃูุดุฆ Email Service ุฌุฏูุฏ</li>
                        <li>ุฃูุดุฆ Email Template ูุงุณุชุฎุฏู ุงููุชุบูุฑุงุช: {{code}}, {{hotel_name}}</li>
                        <li>ุงูุณุฎ Service ID, Template ID, ู Public Key</li>
                        <li>ุงูุตููู ูู ุงูุญููู ุฃุนูุงู</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <script src="../config/firebase-config.js"></script>
    <script src="../js/shared/auth.js"></script>
    <script src="../js/admin/api-settings.js"></script>
</body>
</html>
