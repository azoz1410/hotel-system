<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <title>ุจุงุฑููุฏ ุงูููุฏู - QR Code</title>
    <!-- Theme System -->
    <script src="../js/shared/theme-switcher.js"></script>
</head>
<body>
    <div class="qr-container">
        <div class="icon">๐จ</div>
        <h1>ูุฑุญุจุงู ุจูู ูู ููุฏููุง</h1>
        <p class="subtitle">ุงูุณุญ ุงูููุฏ ููุงุทูุงุน ุนูู ุงูุบุฑู ุงููุชุงุญุฉ</p>

        <div class="qr-code" id="qrcode"></div>

        <div class="url-display" id="urlDisplay">
            ุฌุงุฑู ุชุญููู ุงูุฑุงุจุท...
        </div>

        <div class="instructions">
            <h3>๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู:</h3>
            <ol>
                <li>ุงูุชุญ ูุงููุฑุง ูุงุชูู ุงูุฐูู</li>
                <li>ูุฌู ุงููุงููุฑุง ูุญู ุฑูุฒ QR</li>
                <li>ุงููุฑ ุนูู ุงูุฑุงุจุท ุงูุฐู ูุธูุฑ</li>
                <li>ุงุณุชุนุฑุถ ุงูุบุฑู ุงููุชุงุญุฉ (ุจุงูููู ุงูุฃุฎุถุฑ)</li>
            </ol>
        </div>

        <div class="buttons">
            <button class="btn btn-primary" onclick="printQR()">๐จ๏ธ ุทุจุงุนุฉ ุงูููุฏ</button>
            <button class="btn btn-secondary" onclick="openRooms()">๐๏ธ ูุนุงููุฉ ุงูุตูุญุฉ</button>
        </div>
    </div>

    <!-- ููุชุจุฉ QR Code -->
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    
    <script>
        // ุงูุญุตูู ุนูู ุงูุฑุงุจุท ุงููุงูู
        const baseUrl = window.location.origin + window.location.pathname.replace('qrcode.html', 'index.html');
        
        // ุนุฑุถ ุงูุฑุงุจุท
        document.getElementById('urlDisplay').textContent = baseUrl;

        // ุฅูุดุงุก QR Code
        new QRCode(document.getElementById("qrcode"), {
            text: baseUrl,
            width: 300,
            height: 300,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });

        // ุทุจุงุนุฉ ุงูููุฏ
        function printQR() {
            window.print();
        }

        // ูุชุญ ุตูุญุฉ ุงูุบุฑู
        function openRooms() {
            window.open('index.html', '_blank');
        }

        // ูุณุฎ ุงูุฑุงุจุท ุนูุฏ ุงูููุฑ
        document.getElementById('urlDisplay').addEventListener('click', function() {
            const text = this.textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('โ ุชู ูุณุฎ ุงูุฑุงุจุท ุจูุฌุงุญ!');
            }).catch(() => {
                alert('โ ูุดู ูุณุฎ ุงูุฑุงุจุท');
            });
        });
    </script>
</body>
</html>
