# ๐จ ุฅุตูุงุญ ุณุฑูุน - ุฎุทุฃ PERMISSION_DENIED

## ุงููุดููุชุงู ุงููุชุงู ุชู ุฅุตูุงุญููุง:

### โ 1. CSS ุบูุฑ ุธุงูุฑ
**ุชู ุงูุญู:** ุฃุถูุช `<link rel="stylesheet">` ูู ููู [api-settings.html](../src/admin/api-settings.html)

### โ๏ธ 2. ุฎุทุฃ PERMISSION_DENIED
**ุงูุณุจุจ:** ููุงุนุฏ Firebase ูุง ุชุณูุญ ุจุงููุชุงุจุฉ ุนูู ูุณุงุฑ `tenants/`
**ุงูุญู:** ุชุญุฏูุซ ููุงุนุฏ Firebase

---

## ๐ ุฎุทูุงุช ุงูุฅุตูุงุญ (ุงุฎุชุฑ ุทุฑููุฉ)

### ุงูุทุฑููุฉ 1: ุชุญุฏูุซ ูุฏูู (ููุตู ุจู - 3 ุฏูุงุฆู)

1. **ุงูุชุญ Firebase Console:**
   - ุงุฐูุจ ุฅูู: https://console.firebase.google.com
   - ุงุฎุชุฑ ุงููุดุฑูุน: `hotel-system-f50a4`

2. **ุงุฐูุจ ุฅูู Realtime Database โ Rules**

3. **ุงูุณุฎ ุงููุญุชูู ูู ููุง:**
   - [config/firebase-rules.json](../config/firebase-rules.json)
   - ุฃู ุงูุณุฎ ูู ุงูุฃุณูู โฌ๏ธ

4. **ุงูุตู ูู Firebase Console ูุงุถุบุท "Publish"**

---

### ุงูุทุฑููุฉ 2: ุชุญุฏูุซ ุชููุงุฆู (ุฅุฐุง ูุงู ูุฏูู Firebase CLI)

```bash
# ุชุซุจูุช Firebase CLI (ูุฑุฉ ูุงุญุฏุฉ)
npm install -g firebase-tools

# ุชุณุฌูู ุงูุฏุฎูู
firebase login

# ุชุญุฏูุซ ุงูููุงุนุฏ
firebase deploy --only database
```

ุฃู ุจุจุณุงุทุฉ:
```bash
./update-firebase-rules.sh
```

---

## ๐ ุงูููุงุนุฏ ุงูุฌุฏูุฏุฉ (ูููุณุฎ)

ุฃุถู ูุฐุง ุงููุณู **ุฏุงุฎู** `"rules": { }` ูู Firebase Console:

```json
"tenants": {
  ".read": "auth != null",
  ".write": "auth != null",
  "$tenantId": {
    "settings": {
      ".read": true,
      ".write": "auth != null"
    },
    "verifications": {
      ".read": true,
      ".write": true,
      "$verificationId": {
        ".indexOn": ["identifier", "type"]
      }
    },
    "bookings": {
      ".read": true,
      ".write": true
    }
  }
}
```

**ูููุนู:** ุจุนุฏ ูุณู `"settings"` ููุจู ุงูุฅุบูุงู `}`

---

## โ ุงุฎุชุจุงุฑ ุจุนุฏ ุงูุชุญุฏูุซ

1. ุงูุชุญ ุตูุญุฉ: `/src/admin/api-settings.html`
2. ูุฌุจ ุฃู ุชุธูุฑ ุงูุตูุญุฉ **ุจุงูุชูุณูู ุงูุตุญูุญ** ุงูุขู โ
3. ุญุงูู ุชูุนูู ุฃู ุฎุฏูุฉ (WhatsApp ุฃู Email)
4. ุฃุฏุฎู ุฃู ุจูุงูุงุช ูุงุถุบุท "ุญูุธ"
5. ูุฌุจ ุฃู ุชุธูุฑ: **โ ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ!**

---

## ๐ฏ ูุงุฐุง ุจุนุฏ ุฐููุ

ุจุนุฏ ุชุญุฏูุซ ุงูููุงุนุฏ:
1. โ ุงูุตูุญุฉ ุณุชุธูุฑ ุจุงูุชูุณูู ุงูุตุญูุญ
2. โ ููููู ุญูุธ ุฅุนุฏุงุฏุงุช API ุจุฏูู ุฃุฎุทุงุก
3. โ ูุธุงู Multi-tenant ุฌุงูุฒ ููุนูู

---

## ๐ ูุณุงุนุฏุฉ ุฅุถุงููุฉ

ุฑุงุฌุน ุงูุฏููู ุงููุงูู: [FIX-FIREBASE-RULES.md](FIX-FIREBASE-RULES.md)

---

**ุงูููุช ุงููุทููุจ:** 3-5 ุฏูุงุฆู ููุท! โฑ๏ธ
